<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>taskList Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
        }

        body {
            display: flex;
            min-height: 100vh;
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
        }

        .sidebar {
            width: 250px;
            background-color: #2c3e50;
            color: white;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar h2 {
            margin-bottom: 30px;
            font-size: 1.5rem;
            text-align: center;
        }

        .sidebar a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 8px;
            transition: background 0.3s;
        }

        .sidebar a:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .main {
            flex: 1;
            padding: 40px;
        }

        .welcome-card {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(8px);
            text-align: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            padding: 20px 25px;
            border-radius: 16px;
            margin-bottom: 25px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        }

        .upcoming-scroll-container {
            display: flex;
            overflow-x: auto;
            gap: 16px;
            padding: 20px 10px;
            scroll-snap-type: x mandatory;
            scrollbar-width: thin;
            scroll-behavior: smooth;
            margin-bottom: 30px;
        }

        .feature-card {
            min-width: 240px;
            flex-shrink: 0;
            height: 150px;
            background-size: cover;
            background-position: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 16px;
            border-radius: 16px;
            display: flex;
            align-items: flex-end;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
            scroll-snap-align: start;
            position: relative;
            backdrop-filter: brightness(0.8);
        }

        /* Flash message styles */
        #flash-messages {
            margin-bottom: 20px;
        }

        .flash {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-weight: 600;
            animation: fadeIn 0.5s ease-in-out;
        }

        .flash.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .flash.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: space-around;
                padding: 15px;
            }

            .main {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <aside class="sidebar">
        <h2>taskList</h2>
        <a href="/profile">H·ªì s∆° c√° nh√¢n</a>
        <a href="/tasks">Qu·∫£n l√Ω c√¥ng vi·ªác</a>
        <a href="/teams">L√†m vi·ªác nh√≥m</a>
        <a href="/progress">ƒê√°nh Gi√° Ti·∫øn ƒê·ªô</a>
        <a href="/logout">ƒêƒÉng xu·∫•t</a>
    </aside>

    <main class="main">
        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div id="flash-messages">
              {% for category, message in messages %}
                <div class="flash {{ category }}">{{ message }}</div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <!-- Welcome -->
        <div class="card welcome-card">
            <h1>üéâ Ch√†o m·ª´ng tr·ªü l·∫°i, {{ user_info.user_name }}!</h1>
            <p>C√πng b·∫Øt ƒë·∫ßu m·ªôt ng√†y l√†m vi·ªác hi·ªáu qu·∫£ nh√© üí™</p>
        </div>

        <!-- Scroll cards -->
        <div class="upcoming-scroll-container" id="auto-scroll">
            <div class="feature-card" style="background-image: url('/static/images/task1.jpg');">
                ‚úÖ Qu·∫£n l√Ω c√¥ng vi·ªác c√° nh√¢n
            </div>
            <div class="feature-card" style="background-image: url('/static/images/teamwork.jpg');">
                üë• L√†m vi·ªác nh√≥m n√¢ng cao
            </div>
            <div class="feature-card" style="background-image: url('/static/images/report.jpg');">
                üìä B√°o c√°o tr·ª±c quan
            </div>
            <div class="feature-card" style="background-image: url('/static/images/notify.jpg');">
                üîî Nh·∫Øc nh·ªü t·ª± ƒë·ªông
            </div>
            <div class="feature-card" style="background-image: url('/static/images/mobile.jpg');">
                üåê Giao di·ªán mobile ho√†n ch·ªânh
            </div>
        </div>

        <!-- Form t·∫°o task -->
       <div class="card">
    <h2 style="margin-bottom: 20px;">üìù T·∫°o C√¥ng Vi·ªác M·ªõi</h2>
    <form action="/create/task" method="POST">
        <div style="margin-bottom: 15px;">
            <label for="task_title">T√™n c√¥ng vi·ªác:</label><br>
            <input type="text" id="task_title" name="task_title" required style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc;">
        </div>

        <div style="margin-bottom: 15px;">
            <label for="task_description">M√¥ t·∫£:</label><br>
            <textarea id="task_description" name="task_description" rows="3" style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc;"></textarea>
        </div>

        <div style="margin-bottom: 15px;">
            <label for="start_date">Ng√†y b·∫Øt ƒë·∫ßu:</label><br>
            <input type="text" id="start_date" name="start_date" class="datetime" placeholder="Ch·ªçn ng√†y gi·ªù b·∫Øt ƒë·∫ßu" required style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc;">
        </div>

        <div style="margin-bottom: 20px;">
            <label for="end_date">H·∫°n ch√≥t:</label><br>
            <input type="text" id="end_date" name="end_date" class="datetime" placeholder="Ch·ªçn h·∫°n ch√≥t" required style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc;">
        </div>

        <button type="submit" style="background-color: #2c3e50; color: white; padding: 10px 20px; border: none; border-radius: 10px; cursor: pointer;">
            ‚úÖ T·∫°o Task
        </button>
    </form>
</div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    </main>

    <script>
        flatpickr(".datetime", {
        enableTime: true,
        dateFormat: "Y-m-d\\TH:i", // gi·ªëng ƒë·ªãnh d·∫°ng datetime-local
        time_24hr: true
    });
        const scrollContainer = document.getElementById("auto-scroll");
        let direction = 1;

        setInterval(() => {
            const maxScrollLeft = scrollContainer.scrollWidth - scrollContainer.clientWidth;

            if (scrollContainer.scrollLeft >= maxScrollLeft) {
                direction = -1;
            } else if (scrollContainer.scrollLeft <= 0) {
                direction = 1;
            }

            scrollContainer.scrollLeft += direction * 2;
        }, 20);
    </script>
</body>
</html>
